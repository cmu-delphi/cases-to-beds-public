# Cases2Beds

Public versions of Cases2Beds. [Full methodology](https://delphi.cmu.edu/blog/2021/03/10/cases2beds-a-case-study-in-actionable-intelligence/) and background at: https://delphi.cmu.edu/blog/2021/03/10/cases2beds-a-case-study-in-actionable-intelligence/

## Input Files:
1. "Easy Input" Tab
Opt 1a. distribution_example.csv: A set of values to split the cases by age group (no other functionality) 

Opt 1b. cases_example.csv: The number of cases per day - can be output from covidcast.

2. "Cases (the input)" Tab: 
Opt 2. Cases_Split.csv: Case inputs broken down by demographics

3. "Assumptions Tab": input_parameters_generic.csv: Sample parameters for C2B

## Output Files:
1. C2B_output.csv: The Cases2Beds Outputs as a csv file
2. Plot of C2B

## Test Files
There are 3 test examples of the Python output and the respective worksheet. 

## Troubleshooting
Check if the age group in your .csv files reads “October 19” instead of 10-19 for the age group. 

There are minor differences in the values from the Excel worksheet and the Python outputs that stem from the values generated by the respective exponential pdf functions and rounding.

## Command Line Arguments Examples
```
python C2B_basic.py -c cases_example.csv -d distribution_example.csv -i input_parameters_generic.csv  
python C2B_basic.py -s Cases_Split.csv -i input_parameters_generic.csv  
```

### Example 1, 2, 3
```
python ../../C2B_basic.py -c cases_example_example.csv -d distribution_example_example.csv -i input_parameters_generic_example.csv
python ../../C2B_basic.py -s Cases_Split_example.csv  -i input_parameters_generic_example.csv 
python ../../C2B_basic.py -c cases_example_example2.csv -d distribution_example_example2.csv -i input_parameters_generic_example2.csv
python ../../C2B_basic.py -s Cases_Split_example2.csv -i input_parameters_generic_example2.csv  
python ../../C2B_basic.py -s Cases_Split_example3.csv -i input_parameters_generic_example3.csv
```
